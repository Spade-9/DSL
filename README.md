# åŒ—äº¬é‚®ç”µå¤§å­¦è®¡ç®—æœºå­¦é™¢ç¨‹åºè®¾è®¡å®è·µå¤§ä½œä¸š - åŸºäºé¢†åŸŸç‰¹å®šè„šæœ¬è¯­è¨€çš„å®¢æœæœºå™¨äººçš„è®¾è®¡ä¸å®ç°ï¼ˆDSLï¼‰

## æœ¬ä½œä¸šå¾—åˆ°95åˆ†ï¼Œå¦‚æœèƒ½å¸®åŠ©åˆ°æ‚¨çš„è¯ï¼Œè¯·ç»™æˆ‘ç‚¹ä¸ªStarâ­å§ï¼ğŸ˜„

# CustomerServiceBots é¡¹ç›®æ–‡æ¡£

## é¡¹ç›®åç§°
åŸºäºé¢†åŸŸç‰¹å®šè„šæœ¬è¯­è¨€çš„å®¢æœæœºå™¨äººçš„è®¾è®¡ä¸å®ç°

## æ¦‚è¿°
è¯¥é¡¹ç›®é€šè¿‡**Python**å®ç°äº†ä¸€ä¸ªä»è¯­æ³•æ ‘è§£æåˆ°è¿è¡Œçš„äº¤äº’å¼è§£é‡Šå™¨ï¼Œæ”¯æŒç”¨æˆ·åœ¨Webç«¯å®Œæˆæ³¨å†Œã€ç™»å½•ã€äº¤äº’ç­‰æ“ä½œï¼Œå¹¶åŸºäºFlaskæä¾›RESTful APIæœåŠ¡ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒåŒ…æ‹¬è¯æ³•åˆ†æã€è¯­æ³•åˆ†æå’Œè§£é‡Šå™¨æ‰§è¡Œï¼Œå¹¶æ”¯æŒç®€å•çš„æµç¨‹å®šä¹‰å’ŒåŠ¨æ€å˜é‡ç®¡ç†ã€‚

## è®°æ³•æè¿°
è¯¥è„šæœ¬è¯­è¨€å…·æœ‰ä»¥ä¸‹è¯­æ³•è§„åˆ™ï¼š
1. **å‘½ä»¤æ ¼å¼**ï¼šæ¯æ¡è¯­å¥ä»¥å…³é”®å­—å¼€å¤´ï¼Œåæ¥å‚æ•°ã€‚
   - å…³é”®å­—åŒ…æ‹¬ï¼š`Step`ã€`Speak`ã€`Listen`ã€`Branch`ã€`Silence`ã€`Default`ã€`Exit`ã€‚
2. **è¯­æ³•ä¸€èˆ¬è§„åˆ™**ï¼š
   - **`Step`**ï¼šå®šä¹‰æ­¥éª¤çš„å¼€å§‹ï¼Œåæ¥æ­¥éª¤IDã€‚
     ```plaintext
     Step StepID
     ```
   - **`Speak`**ï¼šè¾“å‡ºå­—ç¬¦ä¸²æˆ–å˜é‡ï¼Œæ”¯æŒå¤šä¸ªæ‹¼æ¥ã€‚
     ```plaintext
     Speak "Hello" + $variable + "World"
     ```
   - **`Listen`**ï¼šç›‘å¬ç”¨æˆ·è¾“å…¥ï¼Œåæ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚
     ```plaintext
     Listen 5
     ```
   - **`Branch`**ï¼šæ¡ä»¶åˆ†æ”¯ï¼Œæ ¼å¼ä¸º`Branch æ¡ä»¶ ä¸‹ä¸€æ­¥`ã€‚
     ```plaintext
     Branch "yes" NextStep
     ```
   - **`Silence`**ï¼šé™é»˜ç­‰å¾…ï¼Œåæ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚
     ```plaintext
     Silence SilenceStep
     ```
   - **`Default`**ï¼šé»˜è®¤åˆ†æ”¯ï¼Œåæ¥ä¸‹ä¸€æ­¥ã€‚
     ```plaintext
     Default DefaultStep
     ```
   - **`Exit`**ï¼šç»“æŸå½“å‰æµç¨‹ã€‚
     ```plaintext
     Exit
     ```
3. **è¯­æ³•ç‰¹æ®Šè§„åˆ™**ï¼š
   - å˜é‡è¡¨ç¤ºå¿…é¡»ä»¥`$`å¼€å¤´ã€‚
   - å­—ç¬¦ä¸²å¿…é¡»ç”¨åŒå¼•å·æ‹¬èµ·æ¥ã€‚
   - æ¯ä¸ª `Step` çœ‹ä½œä¸€ä¸ªæµç¨‹ï¼Œæ¯ä¸ªæµç¨‹æœ‰ä¸‰ç§å½¢å¼ (æ‹¬å·æ˜¯å¯æœ‰å¯æ— çš„) ï¼š
      - `Step -- Speak -- Listen -- Branch -- Silence -- Default`
      - `Step -- Speak -- (Listen) -- Default`
      - `Step -- (Speak) -- Exit`
   - é€šç¯‡ä»£ç ä¸­å¿…é¡»è¦æœ‰ä¸€ä¸ª `Exit` è¯­å¥ã€‚
   - ä¸€ä¸ªæµç¨‹ä¸­ä¸èƒ½å‡ºç°æœ‰ä¸¤ä¸ªç›¸é‚»çš„ `Speak` è¯­å¥ã€‚
   - ä¸€ä¸ªæµç¨‹ä¸­å¯ä»¥å‡ºç° 0 ä¸ªæˆ–å¤šä¸ª `Branch` è¯­å¥ã€‚
   - è‹¥ä¸€ä¸ªæµç¨‹æ˜¯ `Step -- Speak -- (Listen) -- Default` ç»“æ„ï¼Œåˆ™ Default æµç¨‹å¿…é¡»æ˜¯ `Step -- Exit` ç»“æ„ã€‚

## è¿è¡Œæ–¹æ³•

### 1. å®‰è£…ä¾èµ–

ç¡®ä¿å·²ç»å®‰è£…äº†ä»¥ä¸‹ä¾èµ–ï¼š

```
cd frontEnd
npm install
cd..

cd backEnd
pip install -r requirements.txt
cd..
```

### 2. å¯åŠ¨åç«¯æœåŠ¡

åœ¨`backEnd`ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨åç«¯æœåŠ¡ï¼š

```
cd backEnd
python app.py
```

### 3. å¯åŠ¨å‰ç«¯æœåŠ¡

åœ¨`frontEnd`ç›®å½•ä¸‹è¿è¡Œä»¥ä¸‹å‘½ä»¤å¯åŠ¨å‰ç«¯æœåŠ¡ï¼š

```
cd frontEnd
npm run dev
```

### 4. è®¿é—®åº”ç”¨

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®`http://localhost:5173`å³å¯ä½¿ç”¨åº”ç”¨ã€‚

## ä»£ç é£æ ¼

### 1. ä»£ç æ³¨é‡Š

- **è¯¦ç»†æ€§**: ä»£ç ä¸­æ™®éå­˜åœ¨è¯¦ç»†çš„æ³¨é‡Šï¼Œå°¤å…¶æ˜¯åœ¨ç±»å’Œæ–¹æ³•å®šä¹‰éƒ¨åˆ†ã€‚æ³¨é‡Šæ¸…æ™°åœ°è§£é‡Šäº†æ¯ä¸ªæ–¹æ³•çš„åŠŸèƒ½ã€å‚æ•°å’Œè¿”å›å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨`Root`ç±»ä¸­ï¼Œæ–¹æ³•å¦‚`addStep`å’Œ`addVarName`éƒ½æœ‰æ˜ç¡®çš„æ³¨é‡Šè¯´æ˜å…¶ç”¨é€”å’Œå‚æ•°è¦æ±‚ã€‚è¿™ç§è¯¦ç»†æ€§ç¡®ä¿äº†å¼€å‘äººå‘˜èƒ½å¤Ÿå¿«é€Ÿç†è§£æ¯ä¸ªæ–¹æ³•çš„ç›®çš„å’Œä½¿ç”¨æ–¹æ³•ã€‚
- **ä¸€è‡´æ€§**: æ³¨é‡Šé£æ ¼åœ¨æ•´ä¸ªé¡¹ç›®ä¸­ä¿æŒä¸€è‡´ï¼Œé€šå¸¸åœ¨æ–¹æ³•å®šä¹‰çš„ä¸Šæ–¹æä¾›ç®€è¦è¯´æ˜ã€‚è¿™ç§ä¸€è‡´æ€§æœ‰åŠ©äºæé«˜ä»£ç çš„å¯è¯»æ€§å’Œç»´æŠ¤æ€§ï¼Œç‰¹åˆ«æ˜¯åœ¨å¤šäººåä½œçš„ç¯å¢ƒä¸­ï¼Œç¡®ä¿å›¢é˜Ÿæˆå‘˜ä¹‹é—´çš„æ²Ÿé€šé¡ºç•…ã€‚

### 2. å‘½å

- **ç›´è§‚æ€§**: å˜é‡ã€æ–¹æ³•å’Œç±»çš„å‘½åå¤§å¤šæ˜¯ç›´è§‚å’Œæœ‰æ„ä¹‰çš„ï¼Œä½¿å¾—ä»£ç æ˜“äºç†è§£ã€‚ä¾‹å¦‚ï¼Œ`getStep`ã€`setMainStep`ã€`processTokens`ç­‰æ–¹æ³•åç§°ç›´æ¥åæ˜ äº†å…¶åŠŸèƒ½ã€‚è¿™æ ·çš„å‘½åæ–¹å¼ä½¿å¾—ä»£ç æœ¬èº«å°±åƒæ–‡æ¡£ä¸€æ ·ï¼Œå‡å°‘äº†å¯¹å¤–éƒ¨æ–‡æ¡£çš„ä¾èµ–ã€‚
- **é£æ ¼ç»Ÿä¸€**: å‘½åé£æ ¼åœ¨é¡¹ç›®ä¸­ä¿æŒä¸€è‡´ï¼Œä½¿ç”¨é©¼å³°å‘½åæ³•ï¼ˆCamelCaseï¼‰æ¥å‘½åæ–¹æ³•å’Œç±»ï¼Œç¬¦åˆPythonçš„å‘½åæƒ¯ä¾‹ã€‚è¿™ç§ä¸€è‡´æ€§ä½¿å¾—ä»£ç åœ¨è§†è§‰ä¸Šæ›´åŠ æ•´é½ï¼Œå¹¶ä¸”ç¬¦åˆPythonå¼€å‘è€…çš„æœŸæœ›ã€‚

### 3. ä»£ç æ ¼å¼

- **æ ¼å¼æ•´é½**: ä»£ç æ ¼å¼æ•´é½ï¼Œç¼©è¿›å’Œç©ºè¡Œä½¿ç”¨å¾—å½“ï¼Œä¾¿äºé˜…è¯»ã€‚æ¯ä¸ªæ¨¡å—çš„ä»£ç ç»“æ„éƒ½éµå¾ªè‰¯å¥½çš„ç¼–ç¨‹ä¹ æƒ¯ï¼Œç¡®ä¿äº†ä»£ç çš„å¯è¯»æ€§ã€‚è‰¯å¥½çš„æ ¼å¼ä½¿å¾—ä»£ç å—ä¹‹é—´çš„å…³ç³»æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºç†è§£ç¨‹åºçš„æµç¨‹ã€‚
- **æ¨¡å—åŒ–**: ä»£ç è¢«åˆ†æˆå¤šä¸ªæ¨¡å—ï¼Œæ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„åŠŸèƒ½ï¼Œä¾¿äºç®¡ç†å’Œç†è§£ã€‚è¿™ç§æ¨¡å—åŒ–è®¾è®¡ä¸ä»…æé«˜äº†ä»£ç çš„å¯ç»´æŠ¤æ€§ï¼Œè¿˜å…è®¸å¼€å‘äººå‘˜åœ¨ä¸å½±å“æ•´ä½“ç³»ç»Ÿçš„æƒ…å†µä¸‹ä¿®æ”¹æˆ–æ›¿æ¢æŸä¸ªæ¨¡å—ã€‚

### æ•°æ®ç»“æ„

- **Rootç±»**: è´Ÿè´£ç®¡ç†æ•´ä¸ªè¯­æ³•æ ‘ï¼ŒåŒ…æ‹¬æ­¥éª¤è¡¨ï¼ˆ`stepTable`ï¼‰ã€ä¸»è¦æ­¥éª¤ï¼ˆ`mainStep`ï¼‰ã€å˜é‡ååˆ—è¡¨ï¼ˆ`varName`ï¼‰å’Œåˆ†æ”¯è¡¨ï¼ˆ`branchTable`ï¼‰ã€‚é€šè¿‡æ–¹æ³•å¦‚`addStep`ã€`addVarName`ã€`addBranch`ç­‰æ¥æ“ä½œè¿™äº›æ•°æ®ç»“æ„ã€‚è¿™ç§è®¾è®¡ä½¿å¾—è¯­æ³•æ ‘çš„ç®¡ç†å˜å¾—é«˜æ•ˆå’Œæœ‰æ¡ç†ã€‚
- **Stepç±»**: ç”¨äºè¡¨ç¤ºä¸€ä¸ªæ­¥éª¤ï¼ŒåŒ…æ‹¬æ­¥éª¤IDï¼ˆ`stepID`ï¼‰å’Œæ­¥éª¤å†…å®¹ï¼ˆ`step`ï¼‰ã€‚æä¾›æ–¹æ³•å¦‚`setStepID`å’Œ`addStep`æ¥ç®¡ç†æ­¥éª¤ä¿¡æ¯ã€‚è¯¥ç±»çš„è®¾è®¡ä½¿å¾—æ­¥éª¤çš„å®šä¹‰å’Œæ“ä½œç‹¬ç«‹äºå…¶ä»–é€»è¾‘ï¼Œå¢å¼ºäº†ä»£ç çš„å¤ç”¨æ€§ã€‚
- **Expressionç±»**: ç”¨äºå­˜å‚¨å’Œç®¡ç†è¡¨è¾¾å¼ï¼Œæä¾›æ–¹æ³•å¦‚`addExpr`å’Œ`getExpr`æ¥æ“ä½œè¡¨è¾¾å¼æ•°æ®ã€‚è¡¨è¾¾å¼çš„æŠ½è±¡ç®¡ç†ä½¿å¾—å¤æ‚çš„è¡¨è¾¾å¼å¤„ç†å˜å¾—ç®€å•å’Œæ¨¡å—åŒ–ã€‚
- **UserTableç±»**: ç”¨äºç®¡ç†ç”¨æˆ·ä¿¡æ¯ï¼Œå­˜å‚¨åœ¨å­—å…¸`userTable`ä¸­ï¼Œæä¾›æ–¹æ³•å¦‚`setName`å’Œ`setUser`æ¥ç®¡ç†ç”¨æˆ·æ•°æ®ã€‚ç”¨æˆ·ä¿¡æ¯çš„é›†ä¸­ç®¡ç†ä½¿å¾—æ•°æ®è®¿é—®å’Œä¿®æ”¹å˜å¾—é«˜æ•ˆã€‚

## åŠŸèƒ½æ¨¡å—
### 1. æ•°æ®ç»“æ„æ¨¡å—ï¼ˆ`DataStructure.py`ï¼‰
è¯¥æ¨¡å—å®šä¹‰äº†è§£é‡Šå™¨æ‰€éœ€çš„æ ¸å¿ƒæ•°æ®ç»“æ„ï¼š
- **`Root`**ï¼šè¯­æ³•æ ‘çš„æ ¹èŠ‚ç‚¹ï¼Œç®¡ç†æ­¥éª¤ã€å˜é‡ã€åˆ†æ”¯ç­‰ã€‚
- **`Step`**ï¼šå®šä¹‰å…·ä½“çš„æ­¥éª¤åŠæ“ä½œã€‚
- **`Expression`**ï¼šè¡¨è¾¾å¼å¯¹è±¡ï¼Œç”¨äºå­˜å‚¨è¯­æ³•åˆ†æä¸­çš„è¡¨è¾¾å¼ã€‚
- **`UserTable`**ï¼šç®¡ç†ç”¨æˆ·ä¿¡æ¯ï¼ˆå˜é‡åå’Œå…·ä½“å€¼ï¼‰ã€‚

#### æ•°æ®ç»“æ„ç¤ºä¾‹
```python
# åˆ›å»ºè¯­æ³•æ ‘æ ¹èŠ‚ç‚¹
root = Root()
root.addStep("Step1", ["Speak", "Hello"])
root.setMainStep("Step1")
root.addVarName("username")
```

### 2. è¯æ³•åˆ†ææ¨¡å—ï¼ˆ`Lexical.py`ï¼‰
å®ç°å¯¹è¾“å…¥è„šæœ¬æ–‡ä»¶çš„è¯æ³•åˆ†æï¼Œå°†ä»£ç åˆ†å‰²ä¸ºå¯ä¾›è¯­æ³•åˆ†æçš„**Token**åºåˆ—ã€‚

**åŠŸèƒ½è¦ç‚¹**ï¼š
- **å¿½ç•¥ç©ºè¡Œå’Œæ³¨é‡Š**ï¼šæ”¯æŒä»¥`#`å¼€å¤´çš„æ³¨é‡Šè¡Œã€‚
- **ç”ŸæˆTokenæµ**ï¼šé€šè¿‡`getTokens`è·å–åˆ†æç»“æœã€‚

#### ç¤ºä¾‹
è¾“å…¥æ–‡ä»¶å†…å®¹ï¼š
```
Step Start
Speak "Hello, world"
Listen 5
Branch "yes" Step2
Exit
```

ç”Ÿæˆçš„Tokenï¼š
```python
[['Step', 'Start'], ['Speak', '"Hello,', 'world"'], ['Listen', '5'], ['Branch', '"yes"', 'Step2'], ['Exit']]
```

### 3. è¯­æ³•åˆ†ææ¨¡å—ï¼ˆ`Grammar.py`ï¼‰
åŸºäºTokenæµç”Ÿæˆè¯­æ³•æ ‘çš„æ ¸å¿ƒæ¨¡å—ï¼Œæ”¯æŒä»¥ä¸‹å‘½ä»¤ï¼š
- **`Step`**ï¼šå®šä¹‰æ­¥éª¤ã€‚
- **`Speak`**ï¼šè¾“å‡ºè¯­å¥ã€‚
- **`Listen`**ï¼šç›‘å¬ç”¨æˆ·è¾“å…¥ã€‚
- **`Branch`**ï¼šåˆ†æ”¯æ§åˆ¶ã€‚
- **`Silence`**/**`Default`**/**`Exit`**ï¼šæµç¨‹æ§åˆ¶ã€‚

#### åŠŸèƒ½è¦ç‚¹
- è‡ªåŠ¨æ„å»ºå¹¶ç®¡ç†è¯­æ³•æ ‘ã€‚
- æ£€æŸ¥å˜é‡ä½¿ç”¨çš„åˆæ³•æ€§ï¼ŒåŠ¨æ€è®°å½•å˜é‡åã€‚
- æŠ¥é”™æç¤ºï¼šæ£€æµ‹éæ³•è¯­æ³•å¹¶è¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚

#### ç¤ºä¾‹
Tokenæµï¼š
```python
[['Step', 'Start'], ['Speak', '"Hello"'], ['Listen', '5'], ['Branch', '"yes"', 'Step2'], ['Exit']]
```

ç”Ÿæˆè¯­æ³•æ ‘ï¼š
```python
{
    "mainStep": "Start",
    "stepTable": {
        "Start": [
            ['Speak', 'Hello'],
            ['Listen', '5'],
            ['Branch', 'yes', 'Step2'],
            ['Exit']
        ]
    },
    "branchTable": {
        "yes": "Step2"
    }
}
```

### 4. è§£é‡Šå™¨æ¨¡å—ï¼ˆ`Interpreter.py`ï¼‰
æ ¸å¿ƒæ¨¡å—ï¼Œè´Ÿè´£æ‰§è¡ŒåŸºäºè¯­æ³•æ ‘çš„æŒ‡ä»¤ï¼Œæ”¯æŒå¤šç”¨æˆ·å¹¶å‘æ“ä½œã€‚å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š
- **æ­¥éª¤è°ƒåº¦**ï¼šæŒ‰é¡ºåºè§£æè¯­æ³•æ ‘çš„æ¯ä¸€æ­¥ã€‚
- **åŠ¨æ€å˜é‡å¤„ç†**ï¼šåŸºäºç”¨æˆ·è¾“å…¥å®Œæˆå˜é‡çš„æ›¿æ¢å’Œå­˜å‚¨ã€‚
- **å¤šçº¿ç¨‹æ”¯æŒ**ï¼šé€šè¿‡çº¿ç¨‹æ§åˆ¶ç”¨æˆ·è¾“å…¥çš„è¶…æ—¶ä¸ç»“æœé”ã€‚

#### åŠŸèƒ½è¦ç‚¹
- **`dispatch`**ï¼šæ‰§è¡Œæµç¨‹çš„ä¸»æ–¹æ³•ã€‚
- **`doSpeak`**ï¼šå¤„ç†è¾“å‡ºè¡¨è¾¾å¼ã€‚
- **`doListen`**ï¼šç›‘å¬ç”¨æˆ·è¾“å…¥å¹¶åˆ¤æ–­è¶…æ—¶ã€‚
- **å¤šç”¨æˆ·ç¯å¢ƒ**ï¼šé€šè¿‡`UserTable`å­˜å‚¨æ¯ä¸ªç”¨æˆ·çš„ä¸Šä¸‹æ–‡ã€‚

## WebæœåŠ¡æ¨¡å—ï¼ˆ`app.py`ï¼‰
é€šè¿‡**Flask**æä¾›Webæ¥å£ï¼Œæ”¯æŒç”¨æˆ·ç®¡ç†ä¸è§£é‡Šå™¨è°ƒç”¨ã€‚

### æä¾›çš„API
| API           | æ–¹æ³•  | åŠŸèƒ½æè¿°              |
|---------------|-------|-----------------------|
| `/register`   | POST  | ç”¨æˆ·æ³¨å†Œ             |
| `/login`      | POST  | ç”¨æˆ·ç™»å½•å¹¶åˆå§‹åŒ–è§£é‡Šå™¨ |
| `/getinfo`    | POST  | è·å–ç”¨æˆ·å˜é‡ååˆ—è¡¨     |
| `/setinfo`    | POST  | è®¾ç½®ç”¨æˆ·å˜é‡çš„å€¼       |
| `/clearchat`  | POST  | æ‰§è¡Œè§£é‡Šå™¨çš„`dispatch`æ–¹æ³• |
| `/telechat`   | POST  | æäº¤ç”¨æˆ·è¾“å…¥           |
| `/repeatchat` | POST  | è·å–è§£é‡Šå™¨çš„æœ€æ–°è¾“å‡º   |

## æ¥å£

### 1. ç¨‹åºé—´æ¥å£

### ç¨‹åºé—´æ¥å£

#### æ¨¡å—é—´æ¥å£

##### 1. DataStructureä¸å…¶ä»–æ¨¡å—

- **æ¥å£åŠŸèƒ½**: `DataStructure.py`ä¸­çš„ç±»æä¾›äº†åŸºç¡€æ•°æ®ç»“æ„ï¼Œç”¨äºå­˜å‚¨å’Œç®¡ç†è„šæœ¬æ‰§è¡Œè¿‡ç¨‹ä¸­éœ€è¦çš„æ•°æ®ã€‚
- **æ¥å£æ–¹æ³•**:
  - `Root`ç±»æä¾›æ–¹æ³•å¦‚`addStep`ã€`addVarName`ï¼Œä¾›å…¶ä»–æ¨¡å—è°ƒç”¨ä»¥æ„å»ºå’Œä¿®æ”¹è¯­æ³•æ ‘ã€‚
  - å…¶ä»–æ¨¡å—é€šè¿‡å®ä¾‹åŒ–è¿™äº›ç±»ï¼Œè°ƒç”¨å…¶æ–¹æ³•æ¥æ“ä½œå’ŒæŸ¥è¯¢æ•°æ®ã€‚

##### 2. Lexicalä¸Grammar

- **æ¥å£åŠŸèƒ½**: `Lexical.py`è´Ÿè´£å°†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶è§£æä¸ºè¯æ³•å•å…ƒï¼Œç„¶åå°†è¿™äº›è¯æ³•å•å…ƒæä¾›ç»™`Grammar.py`è¿›è¡Œè¯­æ³•åˆ†æã€‚
- **æ¥å£æ–¹æ³•**:
  - `Lexical`ç±»æä¾›æ–¹æ³•`tokenize`ï¼Œè¿”å›è§£æåçš„è¯æ³•å•å…ƒåˆ—è¡¨ã€‚
  - `Grammar`æ¨¡å—è°ƒç”¨`Lexical`çš„`tokenize`æ–¹æ³•ï¼Œè·å–è¯æ³•å•å…ƒåˆ—è¡¨ï¼Œä½œä¸ºè¯­æ³•è§£æçš„è¾“å…¥ã€‚

##### 3. Grammarä¸Interpreter

- **æ¥å£åŠŸèƒ½**: `Grammar.py`è´Ÿè´£å°†è¯æ³•å•å…ƒè§£æä¸ºè¯­æ³•æ ‘ï¼Œç„¶åå°†è¯¥è¯­æ³•æ ‘ä¼ é€’ç»™`Interpreter.py`æ¥æ‰§è¡Œã€‚
- **æ¥å£æ–¹æ³•**:
  - `Grammar`ç±»æä¾›æ–¹æ³•`parse`ï¼Œè¿”å›æ„å»ºçš„è¯­æ³•æ ‘ã€‚
  - `Interpreter`æ¨¡å—é€šè¿‡è°ƒç”¨`Grammar`çš„`parse`æ–¹æ³•ï¼Œè·å–è¯­æ³•æ ‘ï¼Œå¹¶é€šè¿‡å…¶æ¥å£æ–¹æ³•æ¥æ‰§è¡Œè§£æåçš„è„šæœ¬ã€‚

##### 4. Interpreterä¸app

- **æ¥å£åŠŸèƒ½**: `Interpreter.py`è´Ÿè´£æ ¹æ®è¯­æ³•æ ‘æ‰§è¡Œè„šæœ¬ï¼Œå¹¶å°†æ‰§è¡Œç»“æœä¼ é€’ç»™`app.py`ï¼Œä»è€Œé€šè¿‡APIæ¥å£è¿”å›ç»™ç”¨æˆ·ã€‚
- **æ¥å£æ–¹æ³•**:
  - `Interpreter`ç±»æä¾›æ–¹æ³•å¦‚`executeStep`ï¼Œç”¨äºæ‰§è¡Œç‰¹å®šçš„æ­¥éª¤ã€‚
  - `app.py`é€šè¿‡å®ä¾‹åŒ–`Interpreter`ï¼Œè°ƒç”¨å…¶æ–¹æ³•æ¥æ‰§è¡Œç”¨æˆ·è¯·æ±‚çš„è„šæœ¬ï¼Œå¹¶è·å–ç»“æœä»¥è¿”å›ç»™å®¢æˆ·ç«¯ã€‚

#### æ•°æ®æµä¸æ§åˆ¶æµ

- **æ•°æ®æµ**: æ•°æ®åœ¨æ¨¡å—é—´é€šè¿‡æ–¹æ³•è¿”å›å€¼å’Œå‚æ•°ä¼ é€’ã€‚ä¾‹å¦‚ï¼Œè¯æ³•å•å…ƒåˆ—è¡¨ä»`Lexical`ä¼ é€’åˆ°`Grammar`ï¼Œè¯­æ³•æ ‘ä»`Grammar`ä¼ é€’åˆ°`Interpreter`ã€‚
- **æ§åˆ¶æµ**: æ§åˆ¶æµé€šè¿‡æ–¹æ³•è°ƒç”¨æ¥å®ç°ã€‚æ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šçš„å¤„ç†é˜¶æ®µï¼Œè°ƒç”¨ä¸‹ä¸€ä¸ªæ¨¡å—çš„æ–¹æ³•æ¥ä¼ é€’æ§åˆ¶æƒã€‚

####  æ¥å£è®¾è®¡åŸåˆ™

- **ä½è€¦åˆ**: å„æ¨¡å—ä¹‹é—´é€šè¿‡æ˜ç¡®çš„æ¥å£è¿›è¡Œäº¤äº’ï¼Œå‡å°‘äº†æ¨¡å—ä¹‹é—´çš„ä¾èµ–ï¼Œä¾¿äºç‹¬ç«‹å¼€å‘å’Œæµ‹è¯•ã€‚
- **é«˜å†…èš**: æ¯ä¸ªæ¨¡å—å†…éƒ¨å®ç°å…¶æ ¸å¿ƒåŠŸèƒ½ï¼Œæ¨¡å—ä¹‹é—´é€šè¿‡æ¥å£è¿›è¡Œäº¤äº’ï¼Œä¿è¯äº†æ¨¡å—çš„èŒè´£å•ä¸€å’Œå†…èšæ€§ã€‚
- **æ¥å£æ¸…æ™°**: æ¥å£æ–¹æ³•çš„åç§°å’Œå‚æ•°è®¾è®¡ç›´è§‚ä¸”å…·æœ‰æè¿°æ€§ï¼Œä¾¿äºç†è§£å’Œä½¿ç”¨ã€‚

### äººæœºæ¥å£

#### 1. Flaskåº”ç”¨ç»“æ„

- **Flaskæ¡†æ¶**: é¡¹ç›®ä½¿ç”¨Flaskæ¥æ„å»ºWebåº”ç”¨ï¼Œæä¾›HTTPæ¥å£ä¾›å®¢æˆ·ç«¯è°ƒç”¨ã€‚
- **åº”ç”¨åˆå§‹åŒ–**: åœ¨`app.py`ä¸­åˆå§‹åŒ–Flaskåº”ç”¨ï¼Œå¹¶å®šä¹‰ä¸åŒçš„è·¯ç”±å’Œå¤„ç†å‡½æ•°ã€‚

#### 2. APIç«¯ç‚¹

##### 2.1 ç”¨æˆ·æ³¨å†Œæ¥å£

- **ç«¯ç‚¹**: `/register`
- **æ–¹æ³•**: `POST`
- **æè¿°**: å¤„ç†ç”¨æˆ·æ³¨å†Œè¯·æ±‚ï¼Œæ¥æ”¶ç”¨æˆ·ä¿¡æ¯å¹¶å­˜å‚¨åœ¨ç³»ç»Ÿä¸­ã€‚
- **è¯·æ±‚å‚æ•°**:
  - `username`: ç”¨æˆ·å
  - `password`: å¯†ç 
- **å“åº”**:
  - æˆåŠŸæ³¨å†Œæ—¶è¿”å›çŠ¶æ€ç 200å’ŒæˆåŠŸæ¶ˆæ¯ã€‚
  - å¦‚æœç”¨æˆ·å·²å­˜åœ¨åˆ™è¿”å›çŠ¶æ€ç 400å’Œé”™è¯¯æ¶ˆæ¯ã€‚

##### 2.2 ç”¨æˆ·ç™»å½•æ¥å£

- **ç«¯ç‚¹**: `/login`
- **æ–¹æ³•**: `POST`
- **æè¿°**: å¤„ç†ç”¨æˆ·ç™»å½•è¯·æ±‚ï¼ŒéªŒè¯ç”¨æˆ·å‡­æ®ã€‚
- **è¯·æ±‚å‚æ•°**:
  - `username`: ç”¨æˆ·å
  - `password`: å¯†ç 
- **å“åº”**:
  - æˆåŠŸç™»å½•æ—¶è¿”å›çŠ¶æ€ç 200å’ŒæˆåŠŸæ¶ˆæ¯ã€‚
  - å¦‚æœå‡­æ®æ— æ•ˆåˆ™è¿”å›çŠ¶æ€ç 401å’Œé”™è¯¯æ¶ˆæ¯ã€‚

##### 2.3 ä¿¡æ¯è·å–ä¸è®¾ç½®æ¥å£

- **ç«¯ç‚¹**: `/user/info`
- **æ–¹æ³•**: `GET` / `POST`
- **æè¿°**: è·å–æˆ–æ›´æ–°ç”¨æˆ·çš„ä¿¡æ¯ã€‚
- **è¯·æ±‚å‚æ•°**:
  - `GET`è¯·æ±‚æ— éœ€å‚æ•°ï¼Œè¿”å›å½“å‰ç”¨æˆ·ä¿¡æ¯ã€‚
  - `POST`è¯·æ±‚éœ€è¦ç”¨æˆ·ä¿¡æ¯å‚æ•°ï¼Œç”¨äºæ›´æ–°ç”¨æˆ·ä¿¡æ¯ã€‚
- **å“åº”**:
  - æˆåŠŸè·å–æˆ–æ›´æ–°æ—¶è¿”å›çŠ¶æ€ç 200å’Œç›¸å…³ä¿¡æ¯ã€‚
  
##### 2.4 æ¸…é™¤å¯¹è¯æ¥å£

- **ç«¯ç‚¹**: `/clear`
- **æ–¹æ³•**: `POST`
- **æè¿°**: æ¸…é™¤å½“å‰ç”¨æˆ·çš„å¯¹è¯è®°å½•ã€‚
- **è¯·æ±‚å‚æ•°**: æ— éœ€å‚æ•°ã€‚
- **å“åº”**:
  - æˆåŠŸæ¸…é™¤æ—¶è¿”å›çŠ¶æ€ç 200å’ŒæˆåŠŸæ¶ˆæ¯ã€‚

##### 2.5 ç”¨æˆ·è¾“å…¥å¤„ç†æ¥å£

- **ç«¯ç‚¹**: `/execute`
- **æ–¹æ³•**: `POST`
- **æè¿°**: å¤„ç†ç”¨æˆ·è¾“å…¥çš„è„šæœ¬ï¼Œè§£é‡Šå¹¶æ‰§è¡Œã€‚
- **è¯·æ±‚å‚æ•°**:
  - `script`: ç”¨æˆ·è¾“å…¥çš„è„šæœ¬å†…å®¹ã€‚
- **å“åº”**:
  - è¿”å›æ‰§è¡Œç»“æœï¼ŒåŒ…æ‹¬çŠ¶æ€ç 200å’Œæ‰§è¡Œè¾“å‡ºã€‚
  - å¦‚æœè„šæœ¬æœ‰è¯¯åˆ™è¿”å›çŠ¶æ€ç 400å’Œé”™è¯¯æ¶ˆæ¯ã€‚

#### 3. è¯·æ±‚ä¸å“åº”æ ¼å¼

- **è¯·æ±‚æ ¼å¼**: æ‰€æœ‰è¯·æ±‚å‚æ•°é€šè¿‡JSONæ ¼å¼ä¼ é€’ï¼Œç¡®ä¿æ•°æ®ç»“æ„åŒ–å’Œæ˜“äºè§£æã€‚
- **å“åº”æ ¼å¼**: å“åº”æ•°æ®ä¹Ÿä½¿ç”¨JSONæ ¼å¼ï¼ŒåŒ…å«çŠ¶æ€ç ã€æ¶ˆæ¯å’Œå¿…è¦çš„è¿”å›æ•°æ®ã€‚

#### 4. å®‰å…¨æ€§

- **èº«ä»½éªŒè¯**: ç”¨æˆ·ç™»å½•åï¼Œç³»ç»Ÿå¯ä»¥é€šè¿‡ä¼šè¯æˆ–ä»¤ç‰Œæœºåˆ¶ä¿æŒç”¨æˆ·çŠ¶æ€ï¼Œç¡®ä¿åªæœ‰ç»è¿‡èº«ä»½éªŒè¯çš„ç”¨æˆ·å¯ä»¥è®¿é—®å—ä¿æŠ¤çš„èµ„æºã€‚
- **æ•°æ®éªŒè¯**: æ‰€æœ‰è¾“å…¥æ•°æ®åœ¨æœåŠ¡å™¨ç«¯è¿›è¡ŒéªŒè¯ï¼Œé˜²æ­¢æ¶æ„è¾“å…¥å¯¼è‡´çš„å®‰å…¨é—®é¢˜ã€‚

#### 5. ç”¨æˆ·ä½“éªŒ

- **å®æ—¶æ€§**: APIè®¾è®¡æ”¯æŒå¿«é€Ÿå“åº”ç”¨æˆ·è¯·æ±‚ï¼Œæä¾›å®æ—¶çš„æ“ä½œåé¦ˆã€‚
- **æ˜“ç”¨æ€§**: é€šè¿‡RESTfulè®¾è®¡ï¼Œæ¥å£è¯­ä¹‰æ¸…æ™°ï¼Œä¾¿äºå®¢æˆ·ç«¯å¼€å‘äººå‘˜ç†è§£å’Œä½¿ç”¨ã€‚

## è‡ªåŠ¨æµ‹è¯•è„šæœ¬

```
test_script.py
```

### æ¦‚è¿°

æœ¬æ¬¡æµ‹è¯•çš„ç›®çš„æ˜¯éªŒè¯Webåº”ç”¨ç¨‹åºä¸­çš„æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯è®¾ç½®ã€ä»¥åŠå®¢æœåŠŸèƒ½çš„æ­£ç¡®æ€§ã€‚æµ‹è¯•è„šæœ¬ä½¿ç”¨Seleniumè‡ªåŠ¨åŒ–å·¥å…·è¿›è¡Œç¼–å†™ï¼Œä¸»è¦æµ‹è¯•ä»¥ä¸‹åŠŸèƒ½æ¨¡å—ï¼š

1. ç”¨æˆ·æ³¨å†Œ
2. ç”¨æˆ·ç™»å½•
3. ä¿¡æ¯è®¾ç½®
4. å®¢æœåŠŸèƒ½

### æµ‹è¯•ç¯å¢ƒ

- æµè§ˆå™¨ï¼šMicrosoft Edge
- Selenium WebDriver
- æ“ä½œç³»ç»Ÿï¼šå‡è®¾ä¸ºWindows
- æµ‹è¯•åœ°å€ï¼šhttp://localhost:5173/

### æµ‹è¯•æ­¥éª¤

1. **ç”¨æˆ·æ³¨å†Œ**
   - æ‰“å¼€é¦–é¡µ
   - ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
   - å¡«å†™ç”¨æˆ·åå’Œå¯†ç 
   - æäº¤æ³¨å†Œè¡¨å•
   - éªŒè¯æ³¨å†ŒæˆåŠŸæç¤º

2. **ç”¨æˆ·ç™»å½•**
   - æ‰“å¼€é¦–é¡µ
   - ç‚¹å‡»ç™»å½•æŒ‰é’®
   - å¡«å†™ç”¨æˆ·åå’Œå¯†ç 
   - æäº¤ç™»å½•è¡¨å•
   - éªŒè¯ç™»å½•æˆåŠŸæç¤º

3. **ä¿¡æ¯è®¾ç½®**
   - ç™»å½•åç‚¹å‡»ä¿¡æ¯è®¾ç½®æŒ‰é’®
   - å¡«å†™ä¸ªäººä¿¡æ¯è¡¨å•ï¼ˆå§“åå’Œé‡‘é¢ï¼‰
   - æäº¤ä¿¡æ¯è¡¨å•
   - éªŒè¯ä¿¡æ¯æäº¤æˆåŠŸæç¤º

4. **å®¢æœåŠŸèƒ½**
   - ç™»å½•åç‚¹å‡»å®¢æœæŒ‰é’®
   - éªŒè¯å®¢æœçš„åˆå§‹è¾“å‡º
   - è¾“å…¥æŠ•è¯‰æ–‡æœ¬å¹¶æäº¤
   - éªŒè¯å®¢æœçš„å“åº”
   - è¾“å…¥è´¦å•æ–‡æœ¬å¹¶æäº¤
   - éªŒè¯å®¢æœçš„å“åº”

### æµ‹è¯•ç»“æœ

- **ç”¨æˆ·æ³¨å†Œ**ï¼šæˆåŠŸ
  - æ³¨å†ŒæŒ‰é’®ç‚¹å‡»æ­£å¸¸ï¼Œæ³¨å†Œè¡¨å•æäº¤æˆåŠŸï¼ŒæˆåŠŸæç¤ºæ˜¾ç¤ºæ­£ç¡®ã€‚
  
- **ç”¨æˆ·ç™»å½•**ï¼šæˆåŠŸ
  - ç™»å½•æŒ‰é’®ç‚¹å‡»æ­£å¸¸ï¼Œç™»å½•è¡¨å•æäº¤æˆåŠŸï¼ŒæˆåŠŸæç¤ºæ˜¾ç¤ºæ­£ç¡®ã€‚

- **ä¿¡æ¯è®¾ç½®**ï¼šæˆåŠŸ
  - ä¿¡æ¯è®¾ç½®æŒ‰é’®ç‚¹å‡»æ­£å¸¸ï¼Œä¿¡æ¯è¡¨å•æäº¤æˆåŠŸï¼ŒæˆåŠŸæç¤ºæ˜¾ç¤ºæ­£ç¡®ã€‚

- **å®¢æœåŠŸèƒ½**ï¼šæˆåŠŸ
  - å®¢æœæŒ‰é’®ç‚¹å‡»æ­£å¸¸ï¼Œåˆå§‹å®¢æœè¾“å‡ºæ­£ç¡®ã€‚
  - æŠ•è¯‰æ–‡æœ¬æäº¤åï¼Œå®¢æœå“åº”æ­£ç¡®ã€‚
  - è´¦å•æ–‡æœ¬æäº¤åï¼Œå®¢æœå“åº”æ­£ç¡®ã€‚

### æˆªå›¾

æµ‹è¯•è¿‡ç¨‹ä¸­è¿›è¡Œäº†å¤šä¸ªæ­¥éª¤çš„æˆªå›¾ä»¥ä¾¿äºéªŒè¯å’Œè°ƒè¯•ã€‚æ‰€æœ‰æˆªå›¾å‡å·²ä¿å­˜è‡³`screenshots`ç›®å½•ã€‚å…·ä½“æˆªå›¾åŒ…æ‹¬ï¼š

- é¡µé¢åŠ è½½åçš„æˆªå›¾
- æ¯ä¸ªä¸»è¦æ­¥éª¤ï¼ˆå¦‚ç‚¹å‡»æŒ‰é’®ã€æäº¤è¡¨å•ï¼‰åçš„æˆªå›¾
- æˆåŠŸå’Œå¤±è´¥æç¤ºçš„æˆªå›¾

### æ—¥å¿—

æ—¥å¿—æ–‡ä»¶`selenium_test.log`è®°å½•äº†æµ‹è¯•è¿‡ç¨‹ä¸­æ‰€æœ‰çš„æ“ä½œã€æˆåŠŸå’Œå¤±è´¥çš„è¯¦ç»†ä¿¡æ¯ã€‚æ—¥å¿—çº§åˆ«è®¾å®šä¸ºINFOï¼Œæ¶µç›–äº†æµ‹è¯•çš„æ¯ä¸€ä¸ªæ­¥éª¤ã€‚

```
2024-12-27 16:32:32,041 - INFO - å·²å¯åŠ¨Edgeæµè§ˆå™¨å®ä¾‹
2024-12-27 16:32:32,041 - INFO - æ‰“å¼€é¦–é¡µ: http://localhost:5173/
2024-12-27 16:32:32,712 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\homepage_loaded_20241227_163232.png
2024-12-27 16:32:32,720 - INFO - é¡µé¢å®¹å™¨å·²åŠ è½½
2024-12-27 16:32:32,721 - INFO - å°è¯•ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
2024-12-27 16:32:32,741 - INFO - æ‰¾åˆ°æ³¨å†ŒæŒ‰é’®ï¼Œå°è¯•ç‚¹å‡»
2024-12-27 16:32:33,005 - INFO - ä½¿ç”¨Actionsç±»æˆåŠŸç‚¹å‡»å…ƒç´ 
2024-12-27 16:32:33,006 - INFO - å·²ç‚¹å‡»æ³¨å†ŒæŒ‰é’®
2024-12-27 16:32:33,161 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\after_click_register_20241227_163233.png
2024-12-27 16:32:33,161 - INFO - å¡«å†™æ³¨å†Œè¡¨å•
2024-12-27 16:32:33,282 - INFO - å·²å¡«å†™ç”¨æˆ·åå’Œå¯†ç 
2024-12-27 16:32:33,283 - INFO - æäº¤æ³¨å†Œè¡¨å•
2024-12-27 16:32:33,350 - INFO - å·²ç‚¹å‡»æäº¤æ³¨å†Œè¡¨å•æŒ‰é’®
2024-12-27 16:32:33,350 - INFO - éªŒè¯æ³¨å†Œæ˜¯å¦æˆåŠŸ
2024-12-27 16:32:33,936 - INFO - æ³¨å†ŒæˆåŠŸ
2024-12-27 16:32:34,028 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\registration_success_20241227_163233.png
2024-12-27 16:32:37,029 - INFO - å¡«å†™ç™»å½•è¡¨å•
2024-12-27 16:32:37,122 - INFO - å·²å¡«å†™ç™»å½•ç”¨æˆ·åå’Œå¯†ç 
2024-12-27 16:32:37,122 - INFO - æäº¤ç™»å½•è¡¨å•
2024-12-27 16:32:37,173 - INFO - å·²ç‚¹å‡»æäº¤ç™»å½•è¡¨å•æŒ‰é’®
2024-12-27 16:32:37,173 - INFO - éªŒè¯ç™»å½•æ˜¯å¦æˆåŠŸ
2024-12-27 16:32:37,712 - INFO - ç™»å½•æˆåŠŸ
2024-12-27 16:32:37,799 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\login_success_20241227_163237.png
2024-12-27 16:32:40,799 - INFO - å°è¯•ç‚¹å‡»å®¢æœæŒ‰é’®
2024-12-27 16:32:40,820 - INFO - æ‰¾åˆ°å®¢æœæŒ‰é’®ï¼Œå°è¯•ç‚¹å‡»
2024-12-27 16:32:41,111 - INFO - ä½¿ç”¨Actionsç±»æˆåŠŸç‚¹å‡»å…ƒç´ 
2024-12-27 16:32:41,111 - INFO - å·²ç‚¹å‡»å®¢æœæŒ‰é’®
2024-12-27 16:32:41,233 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\after_click_customer_20241227_163241.png
2024-12-27 16:32:44,234 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º1
2024-12-27 16:32:44,258 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:32:44,352 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163244.png
2024-12-27 16:32:54,353 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º2
2024-12-27 16:32:54,380 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:32:54,480 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163254.png
2024-12-27 16:32:57,481 - INFO - è¾“å…¥æ–‡æœ¬
2024-12-27 16:32:57,530 - INFO - å·²å¡«å†™æ–‡æœ¬æŠ•è¯‰
2024-12-27 16:32:57,530 - INFO - æäº¤æ–‡æœ¬æŠ•è¯‰
2024-12-27 16:32:57,612 - INFO - å·²ç‚¹å‡»æäº¤æ–‡æœ¬æŠ•è¯‰æŒ‰é’®
2024-12-27 16:32:57,613 - INFO - éªŒè¯æ˜¯å¦æäº¤æ–‡æœ¬æŠ•è¯‰æˆåŠŸ
2024-12-27 16:32:57,640 - INFO - æäº¤æ–‡æœ¬æŠ•è¯‰æˆåŠŸ
2024-12-27 16:32:57,750 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\submit_text_success_20241227_163257.png
2024-12-27 16:33:00,751 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º3
2024-12-27 16:33:00,780 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:33:00,885 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163300.png
2024-12-27 16:33:03,885 - INFO - è¾“å…¥æ–‡æœ¬
2024-12-27 16:33:03,932 - INFO - å·²å¡«å†™æ–‡æœ¬è´¦å•
2024-12-27 16:33:03,933 - INFO - æäº¤æ–‡æœ¬è´¦å•
2024-12-27 16:33:04,004 - INFO - å·²ç‚¹å‡»æäº¤æ–‡æœ¬è´¦å•æŒ‰é’®
2024-12-27 16:33:04,004 - INFO - éªŒè¯æ˜¯å¦æäº¤æ–‡æœ¬è´¦å•æˆåŠŸ
2024-12-27 16:33:04,031 - INFO - æäº¤æ–‡æœ¬è´¦å•æˆåŠŸ
2024-12-27 16:33:04,167 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\submit_text_success_20241227_163304.png
2024-12-27 16:33:07,168 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º4
2024-12-27 16:33:07,194 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:33:07,286 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163307.png
2024-12-27 16:33:07,287 - INFO - å®¢æœæµ‹è¯•1 æ­£ç¡®
2024-12-27 16:33:07,383 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\all_correct_20241227_163307.png
2024-12-27 16:33:07,384 - INFO - å…³é—­æµè§ˆå™¨
2024-12-27 16:33:11,207 - INFO - å·²å¯åŠ¨Edgeæµè§ˆå™¨å®ä¾‹
2024-12-27 16:33:11,207 - INFO - æ‰“å¼€é¦–é¡µ: http://localhost:5173/
2024-12-27 16:33:11,896 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\homepage_loaded_20241227_163311.png
2024-12-27 16:33:11,905 - INFO - é¡µé¢å®¹å™¨å·²åŠ è½½
2024-12-27 16:33:11,906 - INFO - å°è¯•ç‚¹å‡»ç™»å½•æŒ‰é’®
2024-12-27 16:33:12,191 - INFO - ä½¿ç”¨Actionsç±»æˆåŠŸç‚¹å‡»å…ƒç´ 
2024-12-27 16:33:12,192 - INFO - å·²ç‚¹å‡»ç™»å½•æŒ‰é’®
2024-12-27 16:33:12,318 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\after_click_login_20241227_163312.png
2024-12-27 16:33:12,318 - INFO - å¡«å†™ç™»å½•è¡¨å•
2024-12-27 16:33:12,431 - INFO - å·²å¡«å†™ç™»å½•ç”¨æˆ·åå’Œå¯†ç 
2024-12-27 16:33:12,431 - INFO - æäº¤ç™»å½•è¡¨å•
2024-12-27 16:33:12,492 - INFO - å·²ç‚¹å‡»æäº¤ç™»å½•è¡¨å•æŒ‰é’®
2024-12-27 16:33:12,493 - INFO - éªŒè¯ç™»å½•æ˜¯å¦æˆåŠŸ
2024-12-27 16:33:13,046 - INFO - ç™»å½•æˆåŠŸ
2024-12-27 16:33:13,129 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\login_success_20241227_163313.png
2024-12-27 16:33:16,130 - INFO - å°è¯•ç‚¹å‡»ä¿¡æ¯è®¾ç½®æŒ‰é’®
2024-12-27 16:33:16,151 - INFO - æ‰¾åˆ°ä¿¡æ¯è®¾ç½®æŒ‰é’®ï¼Œå°è¯•ç‚¹å‡»
2024-12-27 16:33:16,464 - INFO - ä½¿ç”¨Actionsç±»æˆåŠŸç‚¹å‡»å…ƒç´ 
2024-12-27 16:33:16,465 - INFO - å·²ç‚¹å‡»ä¿¡æ¯è®¾ç½®æŒ‰é’®
2024-12-27 16:33:16,614 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\after_click_info_20241227_163316.png
2024-12-27 16:33:16,614 - INFO - å¡«å†™ä¿¡æ¯è¡¨å•
2024-12-27 16:33:16,707 - INFO - å·²å¡«å†™ä¿¡æ¯è¡¨å•
2024-12-27 16:33:16,707 - INFO - æäº¤ä¿¡æ¯è¡¨å•
2024-12-27 16:33:16,772 - INFO - å·²ç‚¹å‡»æäº¤ä¿¡æ¯è¡¨å•æŒ‰é’®
2024-12-27 16:33:16,772 - INFO - éªŒè¯æ˜¯å¦æäº¤ä¿¡æ¯è¡¨å•æˆåŠŸ
2024-12-27 16:33:17,310 - INFO - æäº¤ä¿¡æ¯è¡¨å•æˆåŠŸ
2024-12-27 16:33:17,419 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\info_commit_success_20241227_163317.png
2024-12-27 16:33:20,419 - INFO - å°è¯•ç‚¹å‡»å®¢æœæŒ‰é’®
2024-12-27 16:33:20,440 - INFO - æ‰¾åˆ°å®¢æœæŒ‰é’®ï¼Œå°è¯•ç‚¹å‡»
2024-12-27 16:33:20,728 - INFO - ä½¿ç”¨Actionsç±»æˆåŠŸç‚¹å‡»å…ƒç´ 
2024-12-27 16:33:20,729 - INFO - å·²ç‚¹å‡»å®¢æœæŒ‰é’®
2024-12-27 16:33:20,837 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\after_click_customer_20241227_163320.png
2024-12-27 16:33:23,837 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º1
2024-12-27 16:33:23,867 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:33:23,969 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163323.png
2024-12-27 16:33:26,970 - INFO - è¾“å…¥æ–‡æœ¬
2024-12-27 16:33:27,019 - INFO - å·²å¡«å†™æ–‡æœ¬è´¦å•
2024-12-27 16:33:27,019 - INFO - æäº¤æ–‡æœ¬è´¦å•
2024-12-27 16:33:27,105 - INFO - å·²ç‚¹å‡»æäº¤æ–‡æœ¬è´¦å•æŒ‰é’®
2024-12-27 16:33:27,105 - INFO - éªŒè¯æ˜¯å¦æäº¤æ–‡æœ¬è´¦å•æˆåŠŸ
2024-12-27 16:33:27,132 - INFO - æäº¤æ–‡æœ¬è´¦å•æˆåŠŸ
2024-12-27 16:33:27,252 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\submit_text_success_20241227_163327.png
2024-12-27 16:33:30,252 - INFO - æ£€æŸ¥å®¢æœè¾“å‡º2
2024-12-27 16:33:30,277 - INFO - å®¢æœè¾“å‡ºæ­£ç¡®
2024-12-27 16:33:30,365 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\customer_service_correct_20241227_163330.png
2024-12-27 16:33:30,365 - INFO - å®¢æœæµ‹è¯•2 æ­£ç¡®
2024-12-27 16:33:30,466 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\all_correct_20241227_163330.png
2024-12-27 16:33:30,466 - INFO - å®¢æœæµ‹è¯•å…¨éƒ¨æ­£ç¡®
2024-12-27 16:33:30,567 - INFO - æˆªå›¾å·²ä¿å­˜åˆ°: screenshots\all_correct_20241227_163330.png
2024-12-27 16:33:30,567 - INFO - å…³é—­æµè§ˆå™¨
```

### ç»“è®º

æœ¬æ¬¡æµ‹è¯•è„šæœ¬è¿è¡Œç»“æœæ˜¾ç¤ºï¼Œæ‰€æœ‰åŠŸèƒ½æ¨¡å—å‡é€šè¿‡æµ‹è¯•ï¼Œè¾¾åˆ°äº†é¢„æœŸçš„åŠŸèƒ½è¦æ±‚ã€‚æœªå‘ç°ä»»ä½•åŠŸèƒ½æ€§ç¼ºé™·æˆ–é”™è¯¯ã€‚

### å»ºè®®

- åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå»ºè®®å°†æµ‹è¯•è„šæœ¬é›†æˆåˆ°æŒç»­é›†æˆ/æŒç»­äº¤ä»˜ï¼ˆCI/CDï¼‰ç®¡é“ä¸­ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡ä»£ç å˜æ›´åè‡ªåŠ¨è¿è¡Œæµ‹è¯•ã€‚
- è€ƒè™‘æ‰©å±•æµ‹è¯•ç”¨ä¾‹ï¼Œæ¶µç›–æ›´å¤šå¼‚å¸¸æƒ…å†µå’Œè¾¹ç•Œæ¡ä»¶ã€‚
- æµ‹è¯•è„šæœ¬ä¸­çš„é™æ€ç­‰å¾…æ—¶é—´ï¼ˆ`time.sleep`ï¼‰å¯ä»¥æ›¿æ¢ä¸ºæ›´æ™ºèƒ½çš„ç­‰å¾…æ¡ä»¶ï¼Œä»¥æé«˜æµ‹è¯•æ•ˆç‡å’Œç¨³å®šæ€§ã€‚

## æµ‹è¯•æ¡©

### æ¦‚è¿°

æœ¬æŠ¥å‘Šæ¶µç›–äº†ä¸ºå¤šä¸ªæ¨¡å—ç¼–å†™çš„å•å…ƒæµ‹è¯•æ¡©ï¼ŒåŒ…æ‹¬Lexicalã€Grammarã€DataStructureã€Interpreterå’ŒAppæ¨¡å—ã€‚è¿™äº›æµ‹è¯•æ¡©æ—¨åœ¨éªŒè¯å„ä¸ªæ¨¡å—çš„åŸºæœ¬åŠŸèƒ½ï¼Œç¡®ä¿å®ƒä»¬åœ¨é¢„æœŸçš„è¾“å…¥ä¸‹èƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚

### æµ‹è¯•ç¯å¢ƒ

- ç¼–ç¨‹è¯­è¨€ï¼šPython
- æµ‹è¯•æ¡†æ¶ï¼šunittest
- ç›®æ ‡æ¨¡å—ï¼šLexicalã€Grammarã€DataStructureã€Interpreterã€App

### æµ‹è¯•æ¨¡å—

#### 1. Lexical æ¨¡å—

**ç›®æ ‡ï¼š** éªŒè¯Lexicalç±»çš„è¯æ³•åˆ†æåŠŸèƒ½ã€‚

- **æµ‹è¯•ç”¨ä¾‹ï¼š**
  - `testLexicalParsing`: æµ‹è¯•è¯æ³•è§£æåŠŸèƒ½æ˜¯å¦èƒ½å¤Ÿæ­£ç¡®è§£æè¾“å…¥æ–‡ä»¶å¹¶ç”Ÿæˆé¢„æœŸçš„è¯æ³•å•å…ƒã€‚
  - `testPrintTokens`: æµ‹è¯•æ‰“å°è¯æ³•å•å…ƒåŠŸèƒ½ï¼Œç¡®ä¿è¾“å‡ºæ ¼å¼å’Œå†…å®¹æ­£ç¡®ã€‚

- **ç»“æœï¼š** æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼Œè¯æ³•è§£æå’Œæ‰“å°åŠŸèƒ½æ­£å¸¸ã€‚

#### 2. Grammar æ¨¡å—

**ç›®æ ‡ï¼š** éªŒè¯Grammarç±»çš„è¯­æ³•æ ‘æ„å»ºã€å˜é‡åå¤„ç†åŠé”™è¯¯å¤„ç†åŠŸèƒ½ã€‚

- **æµ‹è¯•ç”¨ä¾‹ï¼š**
  - `testGrammarTree`: æµ‹è¯•è¯­æ³•æ ‘æ„å»ºï¼ŒéªŒè¯ä¸»æ­¥éª¤å’Œæ­¥éª¤å†…å®¹æ˜¯å¦æ­£ç¡®ã€‚
  - `testVariableNames`: æµ‹è¯•å˜é‡åå¤„ç†ï¼Œç¡®ä¿å˜é‡åèƒ½è¢«æ­£ç¡®è§£æå’Œå­˜å‚¨ã€‚
  - `testProcessError`: æµ‹è¯•é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿æ— æ•ˆtokenä¼šäº§ç”Ÿé€‚å½“çš„é”™è¯¯ä¿¡æ¯ã€‚

- **ç»“æœï¼š** æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼Œè¯­æ³•æ ‘æ„å»ºã€å˜é‡åå¤„ç†å’Œé”™è¯¯å¤„ç†åŠŸèƒ½æ­£å¸¸ã€‚

#### 3. DataStructure æ¨¡å—

**ç›®æ ‡ï¼š** éªŒè¯æ•°æ®ç»“æ„æ¨¡å—ä¸­çš„Rootã€Stepã€Expressionå’ŒUserTableç±»çš„åŸºæœ¬åŠŸèƒ½ã€‚

- **æµ‹è¯•ç”¨ä¾‹ï¼š**
  - `TestRoot`: æµ‹è¯•Rootç±»çš„åˆå§‹åŒ–ã€æ­¥éª¤ç®¡ç†ã€å˜é‡åå’Œåˆ†æ”¯ç®¡ç†åŠŸèƒ½ã€‚
  - `TestStep`: æµ‹è¯•Stepç±»çš„åˆå§‹åŒ–å’Œæ­¥éª¤ç®¡ç†åŠŸèƒ½ã€‚
  - `TestExpression`: æµ‹è¯•Expressionç±»çš„åˆå§‹åŒ–å’Œè¡¨è¾¾å¼ç®¡ç†åŠŸèƒ½ã€‚
  - `TestUserTable`: æµ‹è¯•UserTableç±»çš„åˆå§‹åŒ–ã€ç”¨æˆ·ä¿¡æ¯è®¾ç½®å’Œè·å–åŠŸèƒ½ã€‚

- **ç»“æœï¼š** æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼Œæ•°æ®ç»“æ„æ¨¡å—çš„å„ä¸ªç±»åŠŸèƒ½æ­£å¸¸ã€‚

#### 4. Interpreter æ¨¡å—

**ç›®æ ‡ï¼š** éªŒè¯Interpreterç±»çš„Speakã€Listenå’ŒSilenceåŠŸèƒ½ã€‚

- **æµ‹è¯•ç”¨ä¾‹ï¼š**
  - `testInterpreterSpeak`: æµ‹è¯•SpeakåŠŸèƒ½ï¼ŒéªŒè¯è¾“å‡ºçš„æ­£ç¡®æ€§ã€‚
  - `testInterpreterListenAndBranch`: æµ‹è¯•Listenå’ŒBranchåŠŸèƒ½ï¼ŒéªŒè¯è¾“å…¥å¤„ç†å’Œåˆ†æ”¯é€‰æ‹©çš„æ­£ç¡®æ€§ã€‚
  - `testInterpreterSilence`: æµ‹è¯•SilenceåŠŸèƒ½ï¼ŒéªŒè¯åœ¨æ— è¾“å…¥æ—¶çš„æ­£ç¡®è¾“å‡ºã€‚

- **ç»“æœï¼š** æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼Œè§£é‡Šå™¨çš„å„é¡¹åŠŸèƒ½æ­£å¸¸ã€‚

#### 5. App æ¨¡å—

**ç›®æ ‡ï¼š** éªŒè¯åº”ç”¨ç¨‹åºä¸­APIæ¥å£çš„åŠŸèƒ½ï¼ŒåŒ…æ‹¬ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯è®¾ç½®å’ŒèŠå¤©æµç¨‹ã€‚

- **æµ‹è¯•ç”¨ä¾‹ï¼š**
  - `testRegisterAndLogin`: æµ‹è¯•ç”¨æˆ·æ³¨å†Œå’Œç™»å½•åŠŸèƒ½ï¼ŒéªŒè¯æˆåŠŸå’Œå¤±è´¥çš„å¤„ç†ã€‚
  - `testGetAndSetInfo`: æµ‹è¯•ç”¨æˆ·ä¿¡æ¯çš„è®¾ç½®å’Œè·å–åŠŸèƒ½ã€‚
  - `testChatFlow`: æµ‹è¯•å®Œæ•´çš„èŠå¤©æµç¨‹ï¼ŒåŒ…æ‹¬èŠå¤©è®°å½•çš„æ¸…é™¤ã€è·å–å’Œæœºå™¨äººå›å¤ã€‚

- **ç»“æœï¼š** æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹é€šè¿‡ï¼ŒAPIæ¥å£åŠŸèƒ½æ­£å¸¸ã€‚

### æµ‹è¯•æ¡©æ—¥å¿—
```
(bots) D:\CustomerServiceBots\backEnd>sh script/testAll.sh
...............
----------------------------------------------------------------------
Ran 15 tests in 0.001s

OK
..
----------------------------------------------------------------------
Ran 2 tests in 0.002s

OK
...
----------------------------------------------------------------------
Ran 3 tests in 0.000s

OK
...
----------------------------------------------------------------------
Ran 3 tests in 5.703s

OK
è¶…æ—¶
No response received
['Step', 'welcome']
['Speak', '$name', '+', '"æ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨?"']
['Listen', '10']
['Branch', '"æŠ•è¯‰"', 'complainProc']
['Branch', '"è´¦å•"', 'billProc']
['Silence', 'silenceProc']
['Default', 'defaultProc']
['Step', 'complainProc']
['Speak', '"æ‚¨çš„æ„è§æ˜¯æˆ‘ä»¬æ”¹è¿›å·¥ä½œçš„åŠ¨åŠ›ï¼Œè¯·é—®æ‚¨è¿˜æœ‰ä»€ä¹ˆè¡¥å……?"']
['Listen', '10']
['Default', 'thanks']
['Step', 'thanks']
['Speak', '"æ„Ÿè°¢æ‚¨çš„æ¥ç”µï¼Œå†è§"']
['Exit']
['Step', 'billProc']
['Speak', '"æ‚¨çš„æœ¬æœˆè´¦å•æ˜¯"', '+', '$amount', '+', '"å…ƒï¼Œæ„Ÿè°¢æ‚¨çš„æ¥ç”µï¼Œå†è§"']
['Exit']
['Step', 'silenceProc']
['Speak', '"å¬ä¸æ¸…ï¼Œè¯·æ‚¨å¤§å£°ä¸€ç‚¹å¯ä»¥å—"']
['Listen', '10']
['Branch', '"æŠ•è¯‰"', 'complainProc']
['Branch', '"è´¦å•"', 'billProc']
['Silence', 'silenceProc']
['Default', 'defaultProc']
['Step', 'defaultProc']
['Exit']
{'welcome': [['Speak', 'name', 'æ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨?'], ['Listen', '10'], ['Branch'], ['Silence', 'silenceProc'], ['Default', 'defaultProc']], 'complainProc': [['Speak', 'æ‚¨çš„æ„è§æ˜¯æˆ‘ä»¬æ”¹è¿›å·¥ä½œçš„åŠ¨åŠ›ï¼Œè¯·é—®æ‚¨è¿˜æœ‰ä»€ä¹ˆè¡¥å……?'], ['Listen', '10'], ['Default', 'thanks']], 'thanks': [['Speak', 'æ„Ÿè°¢ æ‚¨çš„æ¥ç”µï¼Œå†è§'], ['Exit']], 'billProc': [['Speak', 'æ‚¨çš„æœ¬æœˆè´¦å•æ˜¯', 'amount', 'å…ƒï¼Œæ„Ÿè°¢æ‚¨çš„æ¥ç”µï¼Œå†è§'], ['Exit']], 'silenceProc': [['Speak', 'å¬ä¸æ¸…ï¼Œè¯·æ‚¨å¤§å£°ä¸€ç‚¹å¯ä»¥å—'], ['Listen', '10'], ['Branch'], ['Silence', 'silenceProc'], ['Default', 'defaultProc']], 'defaultProc': [['Exit']]}
['name', 'amount']
{'æŠ•è¯‰': 'complainProc', 'è´¦å•': 'billProc'}
testuser
testuseræ‚¨å¥½ï¼Œè¯·é—®æœ‰ä»€ä¹ˆå¯ä»¥å¸®æ‚¨?
.name Alice
amount 100
..
----------------------------------------------------------------------
Ran 3 tests in 0.018s

OK
```

### ç»“è®º

é€šè¿‡æœ¬æ¬¡æµ‹è¯•æ¡©çš„æ‰§è¡Œï¼Œå„æ¨¡å—çš„åŸºæœ¬åŠŸèƒ½å‡é€šè¿‡éªŒè¯ï¼Œè¡¨ç°å‡ºé¢„æœŸçš„è¡Œä¸ºã€‚æµ‹è¯•æ¡©è¦†ç›–äº†ä¸»è¦åŠŸèƒ½ç‚¹ï¼Œç¡®ä¿äº†æ¨¡å—åœ¨æ­£å¸¸è¾“å…¥ä¸‹çš„å¯é æ€§ã€‚ä¸ºäº†è¿›ä¸€æ­¥æé«˜æµ‹è¯•è¦†ç›–ç‡ï¼Œå»ºè®®åœ¨æœªæ¥çš„æµ‹è¯•ä¸­å¢åŠ æ›´å¤šçš„è¾¹ç•Œæ¡ä»¶å’Œå¼‚å¸¸è¾“å…¥æµ‹è¯•ã€‚